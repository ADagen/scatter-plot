(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"./src/index.tsx":function(e,a,t){"use strict";t.r(a);var n,r=t("./node_modules/react/index.js"),l=t.n(r),s=t("./node_modules/react-dom/index.js"),c=t.n(s),o=t("./node_modules/react-redux/es/index.js"),m=(t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./src/components/App/App.css")),i=t.n(m),d=t("./src/components/Loader/Loader.css"),u=t.n(d),E=()=>l.a.createElement("div",{className:u.a.root},l.a.createElement("div",{className:u.a.title},"Loading plot data..."),l.a.createElement("div",{className:"globalCircleLoader"})),x=t("./node_modules/classnames/index.js"),O=t.n(x),b=()=>l.a.createElement("marker",{id:"arrow",orient:"auto",markerWidth:"4",markerHeight:"8",refX:"0.2",refY:"4",markerUnits:"strokeWidth"},l.a.createElement("path",{d:"M0,0 V8 L4,4 Z",fill:"black"})),v={x:100,y:1100},p=new Array(11).fill(!0).map((e,a)=>100*a),j=new Array(11).fill(!0).map((e,a)=>100*a),y=t("./src/components/Plot/Title/Title.css"),f=t.n(y),g=e=>{var{text:a,className:t}=e;return l.a.createElement("text",{x:600,y:30,className:O()(t,f.a.root),children:a,dominantBaseline:"hanging",textAnchor:"middle"})},N=t("./src/components/Plot/XTitle/XTitle.css"),_=t.n(N),T=e=>{var{text:a,className:t}=e;return l.a.createElement("text",{x:600,y:1160,className:O()(t,_.a.root),children:a,dominantBaseline:"hanging",textAnchor:"middle"})},D=t("./src/components/Plot/YTitle/YTitle.css"),h=t.n(D),L=e=>{var{text:a,className:t}=e;return l.a.createElement("text",{x:600,y:1210,className:O()(t,h.a.root),children:a,dominantBaseline:"hanging",textAnchor:"middle",transform:"rotate(-90 0 1200)"})},A=t("./node_modules/reselect/es/index.js"),R=Object(A.a)(e=>e.plotData,e=>(null==e?void 0:e.points)||[]),k=Object(A.a)(R,e=>e.map(e=>{var{x:a}=e;return a})),S=Object(A.a)(R,e=>e.map(e=>{var{y:a}=e;return a})),P=e=>Math.min(...e),C=e=>Math.max(...e),w=Object(A.a)(k,P),Y=Object(A.a)(k,C),X=Object(A.a)(S,P),U=Object(A.a)(S,C),B=Object(A.b)({minX:w,maxX:Y,minY:X,maxY:U}),I=Object(A.a)(B,e=>{var{minX:a,maxX:t,minY:n,maxY:r}=e;return{scaleX:1e3/(t-a),scaleY:1e3/(r-n)}}),q=Object(A.a)(R,e=>{for(var a=e.length,t=0,n=0,r=0,l=0,s=0;s<a;s++){var{x:c,y:o}=e[s];t+=c,n+=o,r+=c*o,l+=c*c}var m=(a*r-t*n)/(a*l-t*t);return{a:m,b:(n-m*t)/a}});!function(e){e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.READY="READY",e.ERROR="ERROR"}(n||(n={}));var M=e=>e.dataState===n.LOADING,V=e=>e.dataState===n.ERROR,W=e=>e.dataState===n.READY,G=Object(A.b)({title:e=>{var a;return null===(a=e.plotData)||void 0===a?void 0:a.title},xTitle:e=>{var a;return null===(a=e.plotData)||void 0===a?void 0:a.xTitle},yTitle:e=>{var a;return null===(a=e.plotData)||void 0===a?void 0:a.yTitle}}),F=t("./src/components/Plot/ValuePoints/ValuePoint/ValuePoint.css"),K=t.n(F),z=e=>{var{x:a,y:t}=e,{scaleX:n,scaleY:r}=Object(o.c)(I),s=20/n/2,c=20/r/2,m=[[a,t+c],[a+s,t],[a,t-c],[a-s,t]].map(e=>e.join(" ")).join(", ");return l.a.createElement("polygon",{className:K.a.root,points:m})},J=e=>{var{children:a,className:t}=e,{minX:n,minY:r}=Object(o.c)(B),{scaleX:s,scaleY:c}=Object(o.c)(I),m=["translate("+v.x+", "+v.y+")","scale("+s+", -"+c+")","translate("+-n+", "+-r+")"].join(" ");return l.a.createElement("g",{transform:m,className:t,children:a})},H=e=>{var{points:a}=e,t=a.map(e=>{var{x:a,y:t}=e;return l.a.createElement(z,{x:a,y:t,key:""+a+t})});return l.a.createElement(J,null,t)},Z=t("./src/components/Plot/Trend/Trend.css"),Q=t.n(Z),$=()=>{var{a:e,b:a}=Object(o.c)(q),{minX:t,maxX:n}=Object(o.c)(B),r=e*t+a,s=e*n+a;return l.a.createElement(J,null,l.a.createElement("line",{x1:t,y1:r,x2:n,y2:s,className:Q.a.trendLine,vectorEffect:"non-scaling-stroke"}))},ee=new Intl.NumberFormat("ru-RU",{notation:"compact",compactDisplay:"short"}),ae=t("./src/components/Plot/Axis/Axis.css"),te=t.n(ae),ne=e=>{var{from:a,min:t,max:n}=e,r=(n-t)/10,s="translate("+a.x+", "+a.y+")";return l.a.createElement("g",{className:te.a.root,transform:s},l.a.createElement("line",{x2:1050,y2:"0",className:te.a.line,markerEnd:"url(#arrow)",vectorEffect:"non-scaling-stroke"}),p.map((e,a)=>l.a.createElement("g",{key:e,className:te.a.tick,transform:"translate("+e+", 0)"},l.a.createElement("line",{x2:"0",y2:"20",className:te.a.line,vectorEffect:"non-scaling-stroke"}),l.a.createElement("text",{x:"0",y:"40",className:te.a.text,alignmentBaseline:"middle"},ee.format(t+r*a)))))},re=e=>{var{from:a,min:t,max:n}=e,r=(n-t)/10,s="translate("+a.x+", "+a.y+")";return l.a.createElement("g",{className:te.a.root,transform:s},l.a.createElement("line",{x2:0,y2:-1050,className:te.a.line,markerEnd:"url(#arrow)",vectorEffect:"non-scaling-stroke"}),j.map((e,a)=>l.a.createElement("g",{key:e,className:te.a.tick,transform:"translate(0, -"+e+")"},l.a.createElement("line",{x2:"-20",y2:"0",className:te.a.line,vectorEffect:"non-scaling-stroke"}),l.a.createElement("text",{x:"-40",y:"0",className:te.a.text,alignmentBaseline:"middle"},ee.format(t+r*a)))))};t("./node_modules/core-js/modules/es.object.assign.js");function le(){return(le=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var se,ce=e=>{var{transform:a}=e,t=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,["transform"]),{scaleX:n,scaleY:s}=Object(o.c)(I),c="scale("+1/n+", "+1/s+")",m=Object(r.useMemo)(()=>[c,a].join(" "),[n,s]);return l.a.createElement("text",le({transform:m},t))},oe=()=>{var{minX:e,maxX:a,minY:t,maxY:n}=Object(o.c)(B),r=t<0,s=e<0;return l.a.createElement(J,{className:te.a.root},r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("line",{x1:e,y1:0,x2:a,y2:0,className:te.a.basisLine,vectorEffect:"non-scaling-stroke",strokeDasharray:"1 3"}),l.a.createElement("g",{transform:"translate("+e+", 0)"},l.a.createElement(ce,{x:0,y:0,dx:"1vmin",className:te.a.basisText,children:0,alignmentBaseline:"middle"}))),s&&l.a.createElement(l.a.Fragment,null,l.a.createElement("line",{x1:0,y1:t,x2:0,y2:n,className:te.a.basisLine,vectorEffect:"non-scaling-stroke",strokeDasharray:"1 3"}),l.a.createElement("g",{transform:"translate(0, "+t+")"},l.a.createElement(ce,{x:0,y:0,dy:"2vmin",dominantBaseline:"central",textAnchor:"middle",className:te.a.basisText,children:0}))))},me=t("./src/components/Plot/Plot.css"),ie=t.n(me),de=()=>{var e=Object(o.c)(R),{minX:a,maxX:t,minY:n,maxY:r}=Object(o.c)(B),{a:s,b:c}=Object(o.c)(q),{title:m,xTitle:i,yTitle:d}=Object(o.c)(G);return l.a.createElement("div",{className:ie.a.root},l.a.createElement("div",{className:ie.a.plotContainer},l.a.createElement("svg",{viewBox:"0 0 1200 1200"},l.a.createElement("defs",null,l.a.createElement(b,null)),l.a.createElement(oe,null),l.a.createElement(ne,{from:v,min:a,max:t}),l.a.createElement(re,{from:v,min:n,max:r}),l.a.createElement(H,{points:e}),l.a.createElement($,null),m&&l.a.createElement(g,{text:m}),i&&l.a.createElement(T,{text:i}),d&&l.a.createElement(L,{text:d}))),l.a.createElement("div",{className:ie.a.textData},l.a.createElement("div",{className:ie.a.section},l.a.createElement("mark",null,"minX"),"=",a,",",l.a.createElement("mark",null,"maxX"),"=",t,",",l.a.createElement("mark",null,"minY"),"=",n,",",l.a.createElement("mark",null,"maxY"),"=",r),l.a.createElement("div",{className:ie.a.section},"Тренд: ",l.a.createElement("b",null,"y")," = ",s," * ",l.a.createElement("b",null,"x")," + ",c),l.a.createElement("div",{className:O()(ie.a.section,ie.a.dataset)},e.map(e=>{var{x:a,y:t}=e;return l.a.createElement("div",{key:""+a+t,className:ie.a.dataValue},a," ",t)}))))},ue=t("./src/components/Error/Error.css"),Ee=t.n(ue),xe=()=>l.a.createElement("div",{className:Ee.a.root},"Something went wrong");!function(e){e.PLOT_LOAD_START="PLOT_LOAD_START",e.PLOT_LOAD_SUCCESS="PLOT_LOAD_SUCCESS",e.PLOT_LOAD_ERROR="PLOT_LOAD_ERROR"}(se||(se={}));var Oe=t("./node_modules/unionize/lib/index.js"),be=Object(Oe.unionize)({[se.PLOT_LOAD_START]:Object(Oe.ofType)(),[se.PLOT_LOAD_SUCCESS]:Object(Oe.ofType)(),[se.PLOT_LOAD_ERROR]:{}},{tag:"type",value:"payload"}),ve="https://raw.githubusercontent.com/ADagen/scatter-plot/master/stub/example_1.json";var pe=t("./node_modules/redux/es/redux.js"),je=t("./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js"),ye=(t("./node_modules/redux-devtools-extension/index.js"),t("./node_modules/redux-saga/effects.d.ts"));t("./node_modules/core-js/modules/es.promise.js");var fe=async e=>{try{var a=await fetch(e);return 200===(null==a?void 0:a.status)?a.json():Promise.reject(a)}catch(e){return Promise.reject(e)}};var ge=function*(e,a){return yield Object(ye.c)((function*(){for(;;)try{var t=yield Object(ye.f)(e);yield Object(ye.e)(a,t)}catch(e){console.error(e)}}))}(se.PLOT_LOAD_START,(function*(e){var{payload:a}=e,t=a.url||ve;try{var n=yield Object(ye.b)(fe,t);yield Object(ye.d)(be.PLOT_LOAD_SUCCESS(n))}catch(e){yield Object(ye.d)(be.PLOT_LOAD_ERROR())}})),Ne=function*(){yield Object(ye.a)([ge])},_e=(t("./node_modules/core-js/modules/es.string.match.js"),{dataState:n.UNKNOWN}),Te=function(e,a){return void 0===e&&(e=_e),be.match(a,{[se.PLOT_LOAD_START]:()=>({plotData:null,dataState:n.LOADING}),[se.PLOT_LOAD_SUCCESS]:e=>({plotData:e,dataState:n.READY}),[se.PLOT_LOAD_ERROR]:()=>({plotData:null,dataState:n.ERROR}),default:()=>e})};t("./src/index.css");var De=function(){var e,a=Object(je.b)(),t=[a];e=Object(pe.applyMiddleware)(...t);var n=Object(pe.createStore)(Te,_e,e),r=Object.assign({},n,{rootTask:null,runSaga:()=>r.rootTask=a.run(Ne),stopSaga:()=>r.dispatch(je.a)});return r}();De.runSaga();var he=l.a.createElement(o.a,{store:De},l.a.createElement(()=>{var e=Object(o.c)(M),a=Object(o.c)(W),t=Object(o.c)(V),{urlInput:n,handleInputChange:s,queryDatasetCustom:c,queryDataset1:m,queryDataset2:d,queryDataset3:u}=function(){var[e,a]=Object(r.useState)(""),t=Object(o.b)(),n=e=>t(be.PLOT_LOAD_START({url:e})),l=Object(r.useCallback)(()=>n(e),[e]);return{urlInput:e,handleInputChange:e=>a(e.currentTarget.value),queryDatasetCustom:l,queryDataset1:()=>n(ve),queryDataset2:()=>n("https://raw.githubusercontent.com/ADagen/scatter-plot/master/stub/example_2.json"),queryDataset3:()=>n("https://raw.githubusercontent.com/ADagen/scatter-plot/master/stub/example_3.json")}}();return l.a.createElement("div",{className:i.a.root},l.a.createElement("div",{className:i.a.controlPanel},l.a.createElement("button",{disabled:e,onClick:m},"Dataset 1"),l.a.createElement("button",{disabled:e,onClick:d},"Dataset 2"),l.a.createElement("button",{disabled:e,onClick:u},"Dataset 3"),l.a.createElement("input",{disabled:e,type:"text",value:n,onChange:s,placeholder:"Enter a url"}),l.a.createElement("button",{disabled:e||!n,onClick:c},"Load custom")),e&&l.a.createElement(E,null),a&&l.a.createElement(de,null),t&&l.a.createElement(xe,null))},null));function Le(){c.a.render(he,document.getElementsByClassName("root")[0]),De.dispatch(be.PLOT_LOAD_START({url:ve}))}["complete","loaded","interactive"].includes(document.readyState)&&document.body?Le():document.addEventListener("DOMContentLoaded",Le,!1)},0:function(e,a,t){t("./node_modules/core-js/stable/index.js"),e.exports=t("./src/index.tsx")}},[[0,"runtime","styles","react","vendor~253ae210","vendor~987e6011","vendor~ccb0b3ac","vendor~11bb84b7","vendor~1f20a385"]]]);